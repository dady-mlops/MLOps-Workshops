{% extends "base.html" %}

{% block title %}Create New Article{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <h1 class="mb-4">Create New Article</h1>
        <form method="POST">
            <div class="mb-3">
                <label for="topic" class="form-label">Topic</label>
                <input type="text" class="form-control" id="topic" name="topic" required>
            </div>
            
            <div id="urlsContainer">
                <label class="form-label">Source URLs</label>
                <div class="url-input-group">
                    <input type="url" class="form-control mb-2" name="urls" required>
                </div>
            </div>
            
            <button type="button" class="btn btn-secondary mb-3" onclick="addUrlField()">Add Another URL</button>
            <div>
                <button type="submit" class="btn btn-primary">Generate Article</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function addUrlField() {
    const container = document.getElementById('urlsContainer');
    const newGroup = document.createElement('div');
    newGroup.className = 'url-input-group';
    newGroup.innerHTML = `
        <div class="input-group">
            <input type="url" class="form-control" name="urls">
            <button type="button" class="btn btn-outline-danger" onclick="removeUrlField(this)">Remove</button>
        </div>
    `;
    container.appendChild(newGroup);
}

function removeUrlField(button) {
    button.closest('.url-input-group').remove();
}
</script>
{% endblock %}
